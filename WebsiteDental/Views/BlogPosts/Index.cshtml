@section Styles {
<link href="~/assets/css/BlogPostsDental.css" rel="stylesheet">
}
@{
    var categories = ViewBag.blogcategories as List<BlogCategory> ?? new List<BlogCategory>();
    var blogPosts = ViewBag.Blogposts as List<BlogPost> ?? new List<BlogPost>();
}



<!-- Bài viết hiện thị theo danh mục -->
<div class="container">
    <div class="row">
        <div class="col-lg-8">
            <h1 class="dental-section-title">Bài viết mới nhất</h1>
            <div class="row">
                <!-- Các bài viết - đã điều chỉnh thành 3 bài trên một hàng -->
                @foreach (var item in blogPosts)
                {
                    <div class="col-md-4 mb-4">
                        <div class="dental-article-card">
                            <div class="dental-article-image-container">
                                <div class="article-category">Nha Khoa</div>
                                <img src="@item.FeaturedImage" alt="Bác sĩ" class="dental-article-image">
                                <div class="article-logo">
                                    <img src="/images/logo-small.png" alt="Logo">
                                </div>
                            </div>
                            <div class="dental-article-content">
                                <h2 class="dental-article-title" style="font-size: 16px;">@item.Title</h2>
                                <div class="article-meta">
                                    <div class="article-author">
                                        <img src="/images/author-avatar.png" alt="Tác giả" class="author-avatar">
                                        <span>Bác sĩ</span>
                                    </div>
                                    <div class="article-date">
                                        <i class="far fa-calendar"></i>
                                        <span>@(item.CreatedAt?.ToString("dd/MM/yyyy") ?? "Không có ngày")</span>
                                    </div>
                                </div>
                                <p class="dental-article-excerpt" style="font-size: 13px; margin-bottom: 15px;">@item.Content</p>
                                <a asp-controller="DetailBlogPosts" asp-action="DetailBlog" asp-route-id="@item.Id" class="read-now-button" style="padding: 8px 16px; font-size: 12px;">
                                    Đọc ngay <i class="fas fa-arrow-right"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                }
            </div>

            <!-- Quảng cáo ở giữa bài viết -->
            <div class="mid-page-ad">
                <div class="ad-container">
                    <div class="ad-content text-center">
                        <h4>Lịch hẹn trực tuyến</h4>
                        <p>Đặt lịch khám nhanh chóng và tiện lợi với đội ngũ bác sĩ chuyên nghiệp</p>
                        <a href="#" class="btn btn-primary ad-button">Đặt lịch ngay</a>
                    </div>
                </div>
            </div>

            <!-- Phân trang -->
            <div class="dental-pagination d-flex justify-content-center mt-4">
                <a href="#" class="dental-page dental-active d-flex align-items-center justify-content-center">1</a>
                <a href="#" class="dental-page d-flex align-items-center justify-content-center">2</a>
                <a href="#" class="dental-page d-flex align-items-center justify-content-center">3</a>
                <a href="#" class="dental-page d-flex align-items-center justify-content-center">4</a>
            </div>
        </div>

        <!-- Sidebar -->
        <div class="col-lg-4">
            <div class="dental-sidebar">
                <div class="dental-sidebar-widget mb-4 p-4 bg-white">
                    <h3 class="dental-sidebar-title">Dịch vụ nổi bật</h3>
                    <ul class="dental-service-list list-unstyled">
                        @foreach (var n in categories)
                        {
                            <li>
                                <a href="@Url.Action("Index", "BlogPosts", new { categoryId = n.Id })" class="dental-category-item text-decoration-none">
                                    @n.CategoryName
                                </a>
                            </li>
                        }
                    </ul>
                </div>

                <div class="dental-sidebar-widget mb-4 p-4 bg-white">
                    <h3 class="dental-sidebar-title">Đánh giá từ khách hàng</h3>
                    <div class="dental-testimonial">
                        <p>"Dịch vụ chăm sóc tận tình, bác sĩ giỏi và thân thiện."</p>
                        <span>- Nguyễn Văn A</span>
                    </div>
                </div>

                <div class="dental-sidebar-cta p-4 text-white text-center">
                    <h3>Tư vấn miễn phí</h3>
                    <p class="mb-3">Đặt lịch tư vấn ngay hôm nay</p>
                    <a href="#" class="btn btn-light dental-cta-button">Liên hệ ngay</a>
                </div>
            </div>
        </div>
    </div>
</div>
